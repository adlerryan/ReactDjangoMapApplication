{% extends "admin/change_form.html" %}
{% load i18n admin_urls %}

{% block after_field_sets %}
{{ block.super }}

<!-- Render the buttons here -->
<div class="submit-row">
    <input type="submit" value="{% trans 'Save' %}" class="default" name="_save">
    <input type="submit" value="Run" name="_run">
</div>

<fieldset>
    <h2>Results</h2>
    <div id="results">
        {% if results %}
        <table>
            <!-- Display the column headers -->
            <thead>
                <tr>
                    {% for header in column_headers %}
                    <th>{{ header }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                <!-- Assuming the result is a list of lists, where each inner list is a row of data -->
                {% for row in results %}
                <tr>
                    {% for cell in row %}
                    <td>{{ cell }}</td>
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p>No results to display.</p>
        {% endif %}
    </div>
</fieldset>
{% endblock %}
